# 前端联调配置说明

> **适用对象**: 后端开发人员  
> **目的**: 快速配置前端项目与后端API联调

---

## 🚀 快速开始（3步完成）

### 第1步：安装依赖

```bash
cd frontEnd
npm install
```

### 第2步：修改配置连接后端

打开文件：`src/utils/env.js`

将第19行修改为：
```javascript
export const USE_MOCK = false  // 改为 false 连接真实后端
```

### 第3步：启动前端

```bash
npm run dev
```

浏览器会自动打开 `http://localhost:5173`

---

## ⚙️ 配置说明

### 后端地址配置

如果后端不是运行在 `http://localhost:8000`，需要修改 `vite.config.js` 第25行：

```javascript
proxy: {
  '/api': {
    target: 'http://localhost:8000',  // 改为实际后端地址
    changeOrigin: true,
  }
}
```

### Mock数据切换

- **使用Mock数据**（前端独立开发）：`USE_MOCK = true`
- **连接真实后端**（联调测试）：`USE_MOCK = false`

---

## 🧪 测试账号

| 用户名 | 密码 | 角色 |
|--------|------|------|
| admin | admin123 | 管理员 |
| user | user123 | 普通用户 |

---

## 🔍 调试技巧

### 查看请求详情

1. 打开浏览器开发者工具（F12）
2. 切换到 **Network** 标签
3. 刷新页面或执行操作
4. 点击请求查看：
   - **Headers**: 请求头（包含Authorization）
   - **Payload**: 请求体
   - **Response**: 响应数据

### 常见问题

**问题1：前端还在使用Mock数据**
- 确认 `src/utils/env.js` 中 `USE_MOCK = false`
- 重启前端服务（Ctrl+C 然后重新 `npm run dev`）

**问题2：请求404**
- 检查后端是否启动
- 检查后端端口是否为8000（或已修改配置）
- 查看浏览器控制台错误信息

**问题3：CORS跨域错误**
- 后端需要配置CORS允许 `http://localhost:5173`
- 参考 `doc/api/backEndDev.md` 第4.4节

---

## 📂 项目结构（供参考）

```
frontEnd/
├── src/
│   ├── api/              # API接口封装
│   │   ├── authApi.js    # 认证接口
│   │   ├── knowledgeApi.js  # 知识库接口
│   │   ├── chatApi.js    # 智能问答接口
│   │   ├── userApi.js    # 用户接口
│   │   └── mock.js       # Mock数据（可参考）
│   ├── utils/
│   │   ├── env.js        # 环境配置（修改这里）
│   │   └── request.js    # 请求封装
│   └── views/            # 页面组件
├── vite.config.js        # Vite配置（修改后端地址）
└── package.json
```

---

## 📖 相关文档

- **后端开发指南**: `doc/api/backEndDev.md`
- **接口文档**: `doc/api/api-front-back.md`
- **前端README**: `frontEnd/README.md`

---

**有问题？查看 `doc/api/backEndDev.md` 或联系前端团队** 🤝

